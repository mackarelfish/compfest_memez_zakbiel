(this.webpackJsonpcompfest_memez=this.webpackJsonpcompfest_memez||[]).push([[0],{19:function(e,t,a){e.exports=a(35)},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),i=a(7),o=(a(24),a(9)),m=a(3),s=a(6);a(25),a(26),a(27);var u=function(e){return r.a.createElement("div",{className:"memeOverlay"},r.a.createElement(v,Object.assign({},e,{overlay:!1})))};var v=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),c=a[0],l=a[1],i=e.subreddit,o=e.title,s=e.url,v=e.postLink,f=e.toggleSave,d=e.saved,g=e.overlay;return console.log(e),r.a.createElement("div",{className:"memeCard"},r.a.createElement("div",{className:"cardWrapper"},r.a.createElement("div",{className:"meme_imgwrapper",onClick:function(){g&&l(!0)}},r.a.createElement("img",{height:"250",src:s,alt:"meme_img"})),r.a.createElement("div",{className:"caption",style:g?null:{position:"initial",maxHeight:"initial",marginBottom:"0"}},r.a.createElement("div",{className:"captionContainer"},r.a.createElement("div",{className:"captionInfo"},r.a.createElement("p",null,r.a.createElement("a",{href:v},o)),r.a.createElement("p",null,"/r/",i)),r.a.createElement("div",{className:"captionSave",onClick:function(){f({title:o,subreddit:i,url:s})}},r.a.createElement("svg",{width:"12",height:"15",fill:d?"#FFCB15":"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M5.24772 11.354L.5 14.1287V.5h10v13.6287L5.75228 11.354 5.5 11.2066l-.25228.1474z",stroke:"#FFCB15"})),r.a.createElement("p",null,d?"Saved":"Save"))))),c&&r.a.createElement("div",null,r.a.createElement("div",{className:"overlay",onClick:function(e){e.stopPropagation(),console.log("im backb"),l(!1)}}),r.a.createElement(u,e)))};a(28);var f=function(e){var t=e.toggleSaveMeme,a=e.saved,c=e.search,l=Object(n.useState)([]),i=Object(m.a)(l,2),o=i[0],s=i[1];return Object(n.useEffect)((function(){c&&s(a.filter((function(e){var t=!0,a=!0,n=!1,r=void 0;try{for(var l,i=c.split(" ")[Symbol.iterator]();!(a=(l=i.next()).done);a=!0){var o=l.value;e.title.toLowerCase().includes(o.toLowerCase())||(t=!1)}}catch(m){n=!0,r=m}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return t})))}),[c,a]),r.a.createElement("div",{className:"SavedMeme"},r.a.createElement("div",{className:"saved_msg"},r.a.createElement("h1",null,"Saved Memes"),r.a.createElement("p",null,"These are the memes that you love")),r.a.createElement("div",{className:"memeGrid"},c?o.map((function(e,n){return r.a.createElement(v,Object.assign({},e,{key:n,toggleSave:t,saved:1===a.filter((function(t){return t.url===e.url})).length,overlay:!0}))})):a.map((function(e,n){return r.a.createElement(v,Object.assign({},e,{key:n,toggleSave:t,saved:1===a.filter((function(t){return t.url===e.url})).length,overlay:!0}))}))))};a(29);var d=function(e){var t=e.search,a=e.setSearch,c=Object(n.useState)(!1),l=Object(m.a)(c,2),o=l[0],s=l[1];return r.a.createElement("div",{className:"Nav"},r.a.createElement("div",{className:"nav_container"},r.a.createElement("div",{className:"nav_logo"},r.a.createElement("h3",null,r.a.createElement(i.b,{to:"/discover"},"PACIL-GAG")),r.a.createElement("div",{className:"nav_toggle",onClick:function(){return s((function(e){return!e}))}},r.a.createElement("svg",{width:"26",height:"13",viewBox:"0 0 26 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"26",height:"4",rx:"2",transform:"matrix(1 0 0 -1 0 4)",fill:"white"}),r.a.createElement("rect",{width:"26",height:"4",rx:"2",transform:"matrix(1 0 0 -1 0 13)",fill:"white"})))),r.a.createElement("div",{className:"nav_content",style:{maxHeight:o?"200px":"0px"}},r.a.createElement("div",{className:"nav_search"},r.a.createElement("input",{type:"text",value:t,onChange:function(e){return a(e.target.value)},placeholder:"Search some juicy memez..."})),r.a.createElement("div",{className:"nav_nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/discover",activeStyle:{color:"white",opacity:1}},"Discover")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/saved",activeStyle:{color:"white",opacity:1}},"Saved Meme")))))))};var g=function(){var e=Object(s.g)(),t=Object(n.useState)({loading:!0,memes:[],count:0}),a=Object(m.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){if(localStorage.getItem("memez_data")){var e=JSON.parse(localStorage.getItem("memez_data"));l({loading:!1,count:e.count,memes:e.memes})}else N()}),[]);var i=Object(n.useState)(""),u=Object(m.a)(i,2),g=u[0],h=u[1],E=Object(n.useState)([]),p=Object(m.a)(E,2),b=p[0],O=p[1];Object(n.useEffect)((function(){g&&O(c.memes.filter((function(e){var t=!0,a=!0,n=!1,r=void 0;try{for(var c,l=g.split(" ")[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var i=c.value;e.title.toLowerCase().includes(i.toLowerCase())||(t=!1)}}catch(o){n=!0,r=o}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}return t})))}),[g,c.memes]),Object(n.useEffect)((function(){h("")}),[e]);var y=Object(n.useState)(!1),S=Object(m.a)(y,2),j=S[0],w=S[1];function N(){l((function(e){return{loading:!0,memes:e.memes,count:e.count}})),fetch("https://meme-api.herokuapp.com/gimme/30").then((function(e){return e.json()})).then((function(e){e.loading=!1,e.memes||(e={loading:!0,count:0,memes:[]}),l((function(t){return{loading:e.loading,count:[].concat(Object(o.a)(t.memes),Object(o.a)(e.memes)).length,memes:[].concat(Object(o.a)(t.memes),Object(o.a)(e.memes))}})),localStorage.setItem("memez_data",JSON.stringify(e))}))}Object(n.useLayoutEffect)((function(){if("/discover"===e.pathname){var t=document.querySelector("#triggerButton"),a=new IntersectionObserver((function(e){e.forEach((function(e){return w(e.isIntersecting)}))}));t&&setTimeout((function(){return a.observe(t)}),4e3)}}),[e]),Object(n.useEffect)((function(){j&&!g&&N()}),[j,g]);var x=Object(n.useState)([]),_=Object(m.a)(x,2),k=_[0],C=_[1];function z(e){1===k.filter((function(t){return t.url===e.url})).length?C((function(t){return t.filter((function(t){return t.url!==e.url}))})):C((function(t){return[].concat(Object(o.a)(t),[e])}))}return Object(n.useEffect)((function(){var e=localStorage.getItem("saved_meme");e&&C(JSON.parse(e).data)}),[]),Object(n.useEffect)((function(){localStorage.setItem("saved_meme",JSON.stringify({data:k}))}),[k]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{setSearch:h,search:g}),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/"},r.a.createElement(s.a,{to:"/discover"})),r.a.createElement(s.b,{path:"/discover"},r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"memeGrid"},g?b.map((function(e,t){return r.a.createElement(v,Object.assign({},e,{key:t,toggleSave:z,saved:1===k.filter((function(t){return t.url===e.url})).length,overlay:!0}))})):c.memes.map((function(e,t){return r.a.createElement(v,Object.assign({},e,{key:t,toggleSave:z,saved:1===k.filter((function(t){return t.url===e.url})).length,overlay:!0}))}))),c.loading&&r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement("img",{src:"https://i.giphy.com/media/T8Dhl1KPyzRqU/giphy.webp",alt:"searching the interwebz"})),r.a.createElement("button",{id:"triggerButton",onClick:N},"fetch the memez"))),r.a.createElement(s.b,{path:"/saved"},r.a.createElement(f,{toggleSaveMeme:z,saved:k,search:g}))))};l.a.render(r.a.createElement(i.a,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.dc48d7b5.chunk.js.map